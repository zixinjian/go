<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../asserts/3rd/bootstrap/css/bootstrap.css">
</head>
<body>
<div class="container-fluid">
<form class="form-horizontal" id="add_user_form">
    <div class="form-group">
        <label class="col-sm-3 control-label">用户名</label>
        <div  class="col-sm-6">
            <input type="text" class="input-block-level col-sm-8 form-control" data-validate="{required: true, messages:{required:'请输入用户名'}}" name="username" id="username" autocomplete="off" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-3 control-label">初始密码</label>
        <div class="col-sm-6">
            <input type="password" class="input-block-level form-control" data-validate="{required: true, messages:{required:'请输入密码'}}" name="password" id="password" autocomplete="off" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-3 control-label">姓名</label>
        <div class="col-sm-6">
            <input type="password" class="input-block-level form-control" data-validate="{required: true, messages:{required:'请输入姓名'}}" name="name" id="name" autocomplete="off" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-3 control-label">部门</label>
        <div class="col-sm-6">
            <input type="password" class="input-block-level form-control" data-validate="{required: true, messages:{required:'请输入密码'}}" name="login_password" id="login_password" autocomplete="off" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-3 control-label">权限</label>
        <div class="col-sm-6">
            <input type="password" class="input-block-level form-control" data-validate="{required: true, messages:{required:'请输入密码'}}" name="login_password" id="login_password" autocomplete="off" />
        </div>
    </div>
</form>
</div>

<script src="../../asserts/3rd/beego/js/widgets.js"></script>
<script src="../../asserts/3rd/jquery/jquery.js"></script>
<script src="../../asserts/3rd/bootstrap/js/bootstrap.min.js"></script>
<script src="../../asserts/3rd/jquery/jquery.uniform.min.js"></script>
<script src="../../asserts/3rd/jquery/jquery.form.js"></script>
<script src="../../asserts/3rd/jquery/validate/jquery.metadata.js"></script>
<script src="../../asserts/3rd/jquery/validate/jquery.validate.js"></script>
<script>
    function showResponse(resp) {
        console.log("showReponse", resp)
    }
    function onTopModalOk(options){
        if(options.refreshContent){
            options.refreshContent();
        }
        console.log("onTopModalOk")
        console.log("valid", $("#add_user_form").valid());
        $("#add_user_form").ajaxSubmit({
            type: "post",
            url: "/user",
            success: showResponse
        });
        return "not"
    }
    $(function(){
        $('[data-form=uniform]').uniform();
        //        $('#sign-up').validate();
        //        $('#form-recover').validate();
        function showResponse(resp) {
            console.log("showReponse", resp)
//            if(resp.ret =="success"){
//                window.location.href="/static/main.html";
//                return;
//            }
//            var result = "登录失败: " + resp.result
//            $("#login-msg").text(result);
        }
        // validate
        $('#add_user_form').validate()

    });
</script>
</body>
</html>